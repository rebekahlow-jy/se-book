<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS2103/T Textbook - Software Design Patterns: Singleton</title>
    <link rel="stylesheet" href="..\..\markbind\css\bootstrap.min.css">
    <link rel="stylesheet" href="..\..\markbind\css\github.min.css">
</head>
<body>
<div id="app" class="container-fluid">
    <link rel="stylesheet" href="/se-book/css/textbook.css">
<div class="website-content">
  <p><span class="dimmed"><strong>Software Design Patterns ‚û°Ô∏è</strong></span></p>
  <h2 id="singleton-pattern">Singleton Pattern</h2>
  <div id="main">
    <div>
      <div>
        <h4 id="what-it-is-two">What it is <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <tip-box type="success">
        <div>
          <ul>
            <li><span id="outcome-explain">üèÜ Can explain the Singleton design pattern <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></span></li>
          </ul>
        </div>
      </tip-box>
      <panel type="seamless" header=" %%- - - - - - - - - -%%">
        <div>
          <div>
            <p><strong>Context</strong></p>
            <p>A certain classes should have no more than just one instance (e.g. the main controller class of the system). These single instances are commonly known as <em>singletons</em>.</p>
            <p><strong>Problem</strong></p>
            <p>A normal class can be instantiated multiple times by invoking the constructor.</p>
            <p><strong>Solution</strong></p>
            <p>The key insight of the solution is that the <em>constructor</em> of the singleton class cannot be <em>public</em>. Because a <em>public constructor</em> will allow others to instantiate the class at will, a <em>private constructor</em> should
              be used instead. In addition, a public class-level method is provided to access the <em>single instance</em>.</p>
            <tip-box>
              <p>Example:</p><img src="/se-book/designPatterns/singleton/whatItIs/images/singleton.png" height="130">
              <p></p>
            </tip-box>
          </div>
        </div>
      </panel>
    </div>
    <div>
      <div>
        <h4 id="implementation-two">Implementation <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <tip-box type="success">
        <div>
          <ul>
            <li><span id="outcome-explain">üèÜ Can identify an application of the Singleton design pattern <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></span></li>
          </ul>
        </div>
      </tip-box>
      <panel type="seamless" header=" %%- - - - - - - - - -%%">
        <div>
          <div>
            <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Logic</span> </span>{
    <span class="hljs-keyword">private</span> Logic theOne = <span class="hljs-keyword">null</span>;

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Logic</span><span class="hljs-params">()</span> </span>{
        ...
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Logic <span class="hljs-title">getInstance</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (theOne == <span class="hljs-keyword">null</span>) {
            theOne = <span class="hljs-keyword">new</span> Logic();
        }
        <span class="hljs-keyword">return</span> theOne;
    }
}

<span class="hljs-comment">// somewhere else in the system ...</span>
Logic m = Logic.getInstance();

<span class="hljs-comment">//instead of ...</span>
Logic m = <span class="hljs-keyword">new</span> Logic();
</code></pre>
            <p>Notes:</p>
            <ul>
              <li>The constructor is private, which prevents instantiation from outside the class.</li>
              <li>The single instance of the singleton class is maintained by a private class-level variable.</li>
              <li>Access to this object is provided by a public class-level operation <code>getInstance()</code> which instantiates a single copy of the singleton class when it is executed for the first time. Subsequent calls to this operation return the
                single instance of the class.</li>
            </ul>
          </div>
        </div>
      </panel>
    </div>
    <div>
      <div>
        <h4 id="application-two">Application <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <tip-box type="success">
        <div>
          <ul>
            <li><span id="outcome-explain">üèÜ Can apply the Singleton design pattern <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></span></li>
          </ul>
        </div>
      </tip-box>
      <panel type="seamless" header=" %%- - - - - - - - - -%%">
        <div>
          <div>
            <p>{to add}</p>
            <panel header=":paperclip: Extras" expandable="" type="seamless" expanded="">
              <panel header=":mortar_board: Learning Outcomes" expandable="" type="seamless">
                <div>
                  <panel type="success" expandable=""><span slot="header"><div><p>üèÜ Can apply the Singleton design pattern <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></p></div></span>
                    <div>
                      <panel header="Q: Implement the PassKey system using the Singleton pattern.">
                        <question has-input="true">
                          <p>Assume that you are implementing a class called PassKey that can have only three instances at any time. These instances are to be called entryPassKey, exitPassKey and lockPassKey. They are to be created at system startup. All
                            three instances are immutable (i.e. once created, cannot be changed). As you know, Singleton pattern can limit the number of instances to only one. Explain how you will extend the idea behind the Singleton pattern to implement
                            the Passkey class. Show code examples where necessary.</p>
                          <div slot="answer">
                            <p>There are other acceptable variations.</p>
                            <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PassKey</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PassKey entryPassKey = <span class="hljs-keyword">new</span> PassKey(); <span class="hljs-comment">// this way, the object is created as a system startup</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PassKey exitPassKey = <span class="hljs-keyword">new</span> PassKey();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PassKey lockPassKey = <span class="hljs-keyword">new</span> PassKey();
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PassKey</span><span class="hljs-params">()</span> </span>{ ... } <span class="hljs-comment">// private constructor</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> PassKey <span class="hljs-title">getEntryPassKey</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> entryPassKey; <span class="hljs-comment">// no need to check whether it is null</span>
    }

    <span class="hljs-comment">// getExitPassKey() and getLockPassKey() are similar.</span>
    <span class="hljs-comment">// ...</span>
}
</code></pre>
                          </div>
                        </question>
                      </panel>
                    </div>
                  </panel>
                </div>
              </panel>
            </panel>
          </div>
        </div>
      </panel>
    </div>
    <div>
      <div>
        <h4 id="evaluation-three">Evaluation <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0033-20e3.png"></h4>
      </div>
      <tip-box type="success">
        <div>
          <ul>
            <li><span id="outcome-explain">üèÜ Can decide when to apply Singleton design pattern <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0033-20e3.png"></span></li>
          </ul>
        </div>
      </tip-box>
      <panel type="seamless" header=" %%- - - - - - - - - -%%">
        <div>
          <div>
            <p>{pros and cons}</p>
          </div>
        </div>
      </panel>
    </div>
  </div>
</div>
</div>
</body>
<script src="..\..\markbind\js\vue.min.js"></script>
<script src="..\..\markbind\js\vue-strap.min.js"></script>
<script src="..\..\markbind\js\setup.js"></script>
</html>
